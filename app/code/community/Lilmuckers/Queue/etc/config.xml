<?xml version="1.0"?>
<!--
/**
 * Magento Simple Asyncronous Queuing Module
 *
 * @category    Lilmuckers
 * @package     Lilmuckers_Queue
 * @copyright   Copyright (c) 2013 Patrick McKinley (http://www.patrick-mckinley.com)
 * @license     http://choosealicense.com/licenses/mit/
 */
-->
<config>
    <modules>
        <Lilmuckers_Queue>
            <version>0.2.6</version>
        </Lilmuckers_Queue>
    </modules>
    
    <phpunit>

        <suite>
            <modules>
                <Lilmuckers_Queue />
            </modules>
        </suite>

    </phpunit>
    
    <global>
    
        <models>
            <lilqueue>
                <class>Lilmuckers_Queue_Model</class>
            </lilqueue>
        </models>
        
        <helpers>
            <lilqueue>
                <class>Lilmuckers_Queue_Helper</class>
            </lilqueue>
        </helpers>
        
        <queue>
            <adapters>
                <beanstalkd>
                    <class>lilqueue/adapter_beanstalk</class>
                </beanstalkd>
                <amazonsqs>
                    <class>lilqueue/adapter_amazon</class>
                </amazonsqs>
                <gearman>
                    <class>lilqueue/adapter_gearman</class>
                </gearman>
            </adapters>
        </queue>
        
    </global>
    
    <queues>
        <default>
            <label>Default Queue</label>
            <class>lilqueue/queue</class>
            <workers>
                <test>
                    <class>lilqueue/worker</class>
                    <method>test</method>
                </test>
            </workers>
        </default>
        <unit_tests>
            <label>Unit Test Queue</label>
            <class>lilqueue/queue</class>
            <workers>
                <test>
                    <class>lilqueue/worker</class>
                    <method>test</method>
                </test>
                <test_error>
                    <class>lilqueue/worker</class>
                    <method>testError</method>
                </test_error>
                <test_success>
                    <class>lilqueue/worker</class>
                    <method>testSuccess</method>
                </test_success>
                <test_retry>
                    <class>lilqueue/worker</class>
                    <method>testRetry</method>
                </test_retry>
            </workers>
        </unit_tests>
    </queues>

    <default>
        <system>
            <lilqueue>
                <active>0</active>
                <adaptor>beanstalkd</adaptor>
                <beanstalk_host>127.0.0.1</beanstalk_host>
                <beanstalk_port>11300</beanstalk_port>
                <beanstalk_priority>1024</beanstalk_priority>
                <beanstalk_delay>0</beanstalk_delay>
                <beanstalk_ttr>60</beanstalk_ttr>
                <amazon_delay>0</amazon_delay>
                <amazon_ttr>60</amazon_ttr>
                <amazon_key backend_model="adminhtml/system_config_backend_encrypted"/>
                <amazon_secret backend_model="adminhtml/system_config_backend_encrypted"/>
                <amazon_region/>
                <amazon_max_size/>
                <amazon_wait>5</amazon_wait>
                <gearman_host>127.0.0.1</gearman_host>
                <gearman_port>4730</gearman_port>
            </lilqueue>
        </system>

    </default>

</config>

